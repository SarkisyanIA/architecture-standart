### <a name="_b7urdng99y53"></a>**Название задачи:** 
MP-ADR2 MVP Стандарт (Передача ставок в кол-центр)
### <a name="_hjk0fkfyohdk"></a>**Автор:**
Саркисян И.А.
### <a name="_uanumrh8zrui"></a>**Дата:**
25.01.2026
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| **№** | **Действующие лица или системы**    | **Use Case**                                                            | **Описание**                                                                                                                                                                                                                                                                                                                                                                          |
|:-----:|:------------------------------------|:------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  UC1  | Пользователь, кол-центр             | Клиент звонит в кол-центр для уточнения ставки по депозитам             | 1. Клиент звонит в кол-центр. 2. Оператор берет трубку. 3. Пользовател спрашивает актуальную ставку по депозиту. 4. Оператор кол-центра смотрит ее в АБС. 5. Оператор сообщает клиену актуальную ставку по депозиту.                                                                                                                                                                  |
|  UC1  | Пользователь, партнерский кол-центр | Клиент звонит в партнерский кол-центр для уточнения ставки по депозитам | 1. Клиент звонит в кол-центр. 2. Оператор берет трубку. 3. Пользовател спрашивает актуальную ставку по депозиту. 4. Оператор открывает защищенную папку на рабочей станции, куда через SFTP-соединение ежедневно загружается актуальный файл с тарифами. 5. Оператор находит в открытом файле требуемую ставку по депозиту. 6. Оператор сообщает клиену актуальную ставку по депозиту.|
|       |                                     |                                                                         |                                                                                                                                                                                                                                                                                                                                                                                       |
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

| **№** | **Требование**                                                                                                               |
|:-----:|:-----------------------------------------------------------------------------------------------------------------------------|
|   U   | Удобство использования (Usability)                                                                                           |
|  U1   | Обеспечить удобный интерфейс                                                                                                 |
|  U2   | Отобразить цвета и символику бренда в интерфейсе                                                                             |
|   R   | Надёжность (Reliability)                                                                                                     |
|  R1   | Доступность 99,9%                                                                                                            |
|  R2   | График работы 24/7                                                                                                           |
|  R3   | Сохранять бэкапы базы данных раз в день и хранить 1 месяц                                                                    |
|  R4   | В случае полного отказа системы, критический для бизнеса функционал должен быть восстановлен не более чем за 2 часа.         |
|  R5   | В случае катастрофического сбоя, максимально допустимая потеря данных транзакций пользователей не должна превышать 15 минут. |
|  R6   | RPS на входе (ingress): 50000 запросов в секунду на все публичные API                                                        |
|   P   | Производительность (Performance)                                                                                             |
|  P1   | Отклик 10 миллисекунд                                                                                                        |
|  P2   | Предусмотреть равномерное горизонтальное масштабирование и распределение запросов между серверами, приложениями и ЦОД        |
|   S   | Поддерживаемость (Supportability)                                                                                            |
|  S1   | Должна быть поддержка модульного и интеграционного тестирования                                                              |
|  S2   | Необходимо вести докумендацию кода для даснейшего расширения системы                                                         |
|  +R   | + Ограничения (Restrictions)                                                                                                 |
|  +R1  | Использовать XLS-файлы для всего опроцесса согласования ставки по заявке с весом не более 60КБ                               |
|  +R2  | СМС-функционал внедрять в ядре АБС                                                                                           |
|  +R3  | СМС-функционал реализовывать собственными силами без привлечения подрядчиков                                                 |
|  +R4  | Использовать технологии, которые уже есть в банке (MS SQL, Oracle, ...)                                                      |
|  +R5  | Не использовать новые технологии, при отсутствии у команды опатыта работы с ними                                             |
|  +R6  | При работе с очередями, использовать Kafka                                                                                   |
|  +R7  | В интернет-банке продумать реализацию функционала открытия депозитов в отдельном микросервисе                                |
|  +R8  | Продумать переход всего функционала интернет-банка на микросервисную архитектуру                                             |
|  +R9  | Придерживаться концепций систем дизайна, принятого в компании                                                                |
| +R10  | БД АБС перегружена, поэтому не грузить ее дополнительным функционалом                                                        |
| +R11  | Избежать прямой работы интернет-банка с API АБС                                                                              |
| +R12  | АБС масштабируется только по вертикали из-за БД                                                                              |
| +R13  | Шифровать данные с сайта только SSH-2 с отключением устаревших и небезопасных алгоритмов                                     |
| +R14  | Шифровать данные с интернет только SSH-2 с отключением устаревших и небезопасных алгоритмов                                  |

### <a name="_qmphm5d6rvi3"></a>**Решение**
[Диаграмм контекста](Task4/Context_diagram_task4.puml)
[Диаграмма контейнеров](Task4/Container_diagram_task4.puml)
- Выбранны именно эти технологии, т.к у команды есть опыт работы с ними.
- Для партнерского кол-центра принято решение передавать XLS-файл с актуальными депозитными ставками через SFTP-соединение. Весь сеанс передачи файла (команды, данные, пароли, файлы) шифруется по протоколу SSH-2, что защищает информацию от перехвата и прослушивания (сниффинга). 
- Кол-центр банка может узнавать актуальную ставку по депозитам напрямую из АБС.
### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Можно было по другому отправлять актуальные ставки партнерскому кол-центру, например по mail, СМС или другим способом.

**Недостатки, ограничения, риски**
- SFTP сложно настроить и администрировать, требуются IT-компетенции

